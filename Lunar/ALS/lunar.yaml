substitutions:
  ssid: Wifi
  password: password

esphome:
  name: lunarsensor
  platform: ESP32
  board: esp32dev

wifi:
  ssid: $ssid
  password: $password

  # Enable fallback hotspot (captive portal) in case wifi connection fails
  ap:
    ssid: "Lunar Sensor Hotspot"
    password: "lunarals23"

captive_portal:

# Enable logging
logger:
  level: INFO

# Enable Home Assistant API
api:
  reboot_timeout: 0s

ota:

sensor:
  - platform: tsl2561
    name: "Ambient Light"
    address: 0x39
    update_interval: 1s
    gain: 16x
    accuracy_decimals: 2
    filters:
      - calibrate_polynomial:
          degree: 3
          datapoints:
            - 0.0 -> 0.0
            - 36.4 -> 78
            - 39.5 -> 86
            - 59.0 -> 129
      - sliding_window_moving_average:
          window_size: 15
          send_every: 2
          send_first_at: 2

i2c:
  sda: 19
  scl: 23
  scan: False
  id: bus_a

web_server:
  port: 80
